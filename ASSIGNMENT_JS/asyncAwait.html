<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <script>
        // synchronous in javascript
        console.log("one");
        console.log("two");
        console.log("three");

        //Asynchronous in javascript
        // function hello() {
        //     console.log("hello")
        // }
        // setTimeout(hello, 2000)        //timeout  //2000ms = 2 second



        // Using Arrow FUnction
        // setTimeout(() => {
        //     console.log("hello javascript")
        // }, 3000);

        // console.log("four");
        // console.log("five");



        // CALLBACK FUNCTION IN JAVSCRIPT
        // function sum(a,b){
        //     console.log(a+b);
        // }
        // function calculator(a,b,sumCallBack){
        //     sumCallBack(a,b);

        // }
        // calculator(1,2,sum);


        //CALLBACK FUNCTION USING ARROW FUNCTION

        // function calculator(a, b, sum) {
        //     sum(a, b);
        // }
        // calculator(1, 2, (a, b) => {
        //     console.log(a + b);
        // });



        // function getData(dataId) {
        //     setTimeout(() => {
        //         console.log("data is :", dataId);
        //     }, 2000);
        // }
        // getData(123);


        //CALLBACK HELL IS DIFFICULT TO UNDERSTAND
        // function getData(dataId, getNextData) {
        //     setTimeout(() => {
        //         console.log("data is :", dataId);
        //         if (getNextData) {
        //             getNextData();
        //         }

        //     }, 2000);
        // }
        //callback hell
        // getData(1, () => {
        //     getData(2,()=>{
        //         getData(3,()=>{
        //             getData(4);
        //         });
        //     }) ;
        // });



        // PROMISES IN JAVASCRIPT

        // let promise= new Promise((resolve, reject) => {
        //     console.log("I am a promise");
        //     // resolve("success");
        //     reject("some error occurred");
        // });
        // console.log(promise);



        // function getData(dataId , getNextData){
        //     return new Promise((resolve, reject) =>{
        //         setTimeout(()=>{
        //             // console.log("data is:" , dataId);
        //             // resolve("success");
        //             reject("some error");
        //             if(getNextData){
        //                 getNextData();
        //             }
        //         },3000);
        //     })
        // }
        // console.log(getData(123));


        //     const getPromise=()=>{
        //          return new Promise((resolve, reject) => {
        //         console.log("I am a promise");
        //         // resolve("success");
        //         reject("network error ");
        //     });
        // };

        // let promise = getPromise();
        // promise.then((res)=> {
        //     console.log("promise fulfilled", res);

        // });
        // promise.catch((err)=>{
        //     console.log("rejected",err);
        // })
        // console.log(promise);


        //PROMISE CHAIN

        // function asyncFunc1() {
        //     return new Promise((resolve, reject) => {
        //         setTimeout(() => {
        //             console.log("data1");
        //             resolve("success");
        //         }, 3000);
        //     });
        // }

        // function asyncFunc2() {
        //     return new Promise((resolve, reject) => {
        //         setTimeout(() => {
        //             console.log("data2");
        //             resolve("success");
        //         }, 3000);
        //     });
        // }

        // console.log("fetching data1....");
        //  asyncFunc1().then((res) => {
        //     console.log(res);
        //     console.log("fetching data2....");
        //     asyncFunc2().then((res) => { });

        // });

        // console.log("fetching data2....");
        // let p2 = asyncFunc2();
        // p2.then((res) => {
        //     console.log(res);
        // })



        //USING PROMISE CHAINING 

        // function getData(dataId) {
        //     return new Promise((resolve, reject) => {
        //         setTimeout(() => {
        //             console.log("data is:", dataId);
        //             resolve("success");
        //             // reject("some error");
        //         }, 3000);
        //     });
        // };

        // getData(1).then((res) => {
        //     console.log(res);
        //     getData(2).then((res) => {
        //         console.log(res);

        //     })

        // });

        //Exactly main chaining
        // getData(1)
        //     .then((res) => {
        //         return getData(2);
        //     })
        //     .then((res) => {
        //         return getData(3);
        //     }).then((res) => {
        //         console.log(res)
        //     })


        //ASYNC AWAIT IN JAVASCRIPT

    //    async function hello() {
    //         console.log("hello");
    //     }
    //     console.log(hello());

    //     function api(){
    //         return new Promise((resolve,reject)=>{
    //            setTimeout(()=>{
    //             console.log("weather data");
    //             resolve(200);
    //            },3000);
    //         });
    //     }
    //     // console.log(api());
    //     async function getWeatherData(){
    //         await api();
    //         await api();
    //     }

    //     console.log(getWeatherData());



    //GETDATA CODE USING ASYNC AND AWAIT FUNCTION


    function getData(dataId) {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    console.log("data is:", dataId);
                    resolve("success");
                    // reject("some error");
                }, 2000);
            });
        };

        // async function getAllData(){
        //     await getData(1);
        //     await getData(2);
        //     await getData(3);
        //     await getData(4);
        // }

        // console.log(getAllData());



        // USING IIFE(IMMEDIATELY INVOKED FUNCTION)
         (async function (){
            await getData(1);
            await getData(2);
            await getData(3);
            await getData(4);
        })();








    </script>
</body>

</html>